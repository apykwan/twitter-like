extends layouts/main-layout.pug

block content
  if !profileUser
    span.errorMessage Check the url you are trying to access
  else
    script.
      const profileUserId = '!{profileUser._id}';
      const selectedTab = '!{selectedTab}';

    .profileHeaderContainer 
      .coverPhotoContainer 
        .userImageContainer 
          img(src=profileUser.profilePic, alt="User Profile image")
      .profileButtonsContainer 
        if profileUser._id != userLoggedIn._id
          a.profileButton(href=`/message/${profileUser._id}`)
            i.fas.fa-envelope
          +createFollowButton(profileUser, false)
      .userDetailsContainer
        span.displayName #{profileUser.firstName} #{profileUser.lastName}
        span.username @#{profileUser.userName}
        span.description #{profileUser.description}

        .followersContainer 
          a(href=`/profile/${profileUser.userName}/following`)
            span.value #{0}
            span Following
          a(href=`/profile/${profileUser.userName}/follower`)
            span.value #{0}
            span Followers

    .tabsContainer
      +createTab("Posts", `/profile/${profileUser.userName}`, selectedTab != "replies")
      +createTab("Replies", `/profile/${profileUser.userName}/replies`, selectedTab == "replies")

    .postsContainer

    +createPostModals(userLoggedIn)

block scripts 
  script(src='/js/postPage.js')
  script(src='/js/profile.js')